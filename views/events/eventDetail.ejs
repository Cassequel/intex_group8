<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title><%= event.eventname %> | Event</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/styles/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    .detail-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .detail-card {
      background: #ffffff;
      border-radius: 12px;
      padding: 1.2rem 1.3rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(153, 183, 198, 0.18);
    }
    .detail-card h3 {
      margin: 0 0 0.4rem;
      font-size: 1rem;
      color: var(--color-primary-dark);
    }
    .detail-value {
      margin: 0;
      color: var(--color-text-soft);
      font-weight: 600;
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <header class="site-header">
    <div class="container nav-container">
      <a href="/" class="logo">
        <span class="logo-mark">ER</span>
        <span class="logo-text">Ella Rises</span>
      </a>

      <nav class="nav">
        <button class="nav-toggle" aria-label="Toggle navigation">
          <span></span><span></span><span></span>
        </button>
        <ul class="nav-links">
          <li><a href="/">Home</a></li>
          <li><a href="/events">Events</a></li>
          <% if (userLevel !== 'U') { %>
            <li><a href="/users">Users</a></li>
            <li><a href="/managerDashboard" class="btn btn--outline">Dashboard</a></li>
          <% } %>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <p class="eyebrow">Event</p>
      <h1><%= event.eventname %></h1>
      <p class="hero-subtitle"><%= event.eventdescription || 'No description' %></p>
      <% if (userLevel !== 'U') { %>
        <div class="hero-actions">
          <a href="/events/<%= event.eventoccurrenceid %>/edit" class="btn btn--outline">Edit event</a>
        </div>
      <% } %>
    </div>
  </section>

  <!-- DETAILS -->
  <section class="section section--light">
    <div class="container">
      <div class="detail-grid">
        <div class="detail-card">
          <h3>Template</h3>
          <p class="detail-value">ID <%= event.eventtemplateid %></p>
        </div>
        <div class="detail-card">
          <h3>Type</h3>
          <p class="detail-value"><%= event.eventtype || "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>Recurrence</h3>
          <p class="detail-value"><%= event.eventrecurrencepattern || "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>Default capacity</h3>
          <p class="detail-value"><%= event.eventdefaultcapacity || "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>Start</h3>
          <p class="detail-value"><%= event.eventdatetimestart ? (event.eventdatetimestart.toISOString ? event.eventdatetimestart.toISOString().replace('T',' ').slice(0,16) : String(event.eventdatetimestart)) : "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>End</h3>
          <p class="detail-value"><%= event.eventdatetimeend ? (event.eventdatetimeend.toISOString ? event.eventdatetimeend.toISOString().replace('T',' ').slice(0,16) : String(event.eventdatetimeend)) : "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>Location</h3>
          <p class="detail-value"><%= event.eventlocation || "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>Capacity</h3>
          <p class="detail-value"><%= typeof event.eventcapacity !== "undefined" && event.eventcapacity !== null ? event.eventcapacity : "Not provided" %></p>
        </div>
        <div class="detail-card">
          <h3>Registration deadline</h3>
          <p class="detail-value"><%= event.eventregistrationdeadline ? (event.eventregistrationdeadline.toISOString ? event.eventregistrationdeadline.toISOString().replace('T',' ').slice(0,16) : String(event.eventregistrationdeadline)) : "Not provided" %></p>
        </div>
      </div>
      <div style="margin-top: 1.5rem;">
        <a href="/events" class="btn btn--ghost">Back to list</a>
      </div>
    </div>
  </section>

  <script>
    const navToggle = document.querySelector(".nav-toggle");
    const navLinks = document.querySelector(".nav-links");
    navToggle.addEventListener("click", () => {
      navLinks.classList.toggle("nav-links--open");
      navToggle.classList.toggle("nav-toggle--open");
    });
  </script>
</body>
</html>
